(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(A){A.defineMode("groovy",function(D){function P(T){var S={},Q=T.split(" ");for(var R=0;R<Q.length;++R){S[Q[R]]=true}return S}var G=P("abstract as assert boolean break byte case catch char class const continue def default do double else enum extends final finally float for goto if implements import in instanceof int interface long native new package private protected public return short static strictfp super switch synchronized threadsafe throw throws transient try void volatile while");var N=P("catch class do else finally for if switch try while enum interface def");var M=P("return break continue");var O=P("null true false this");var B;function H(T,S){var R=T.next();if(R=='"'||R=="'"){return L(R,T,S)}if(/[\[\]{}\(\),;\:\.]/.test(R)){B=R;return null}if(/\d/.test(R)){T.eatWhile(/[\w\.]/);if(T.eat(/eE/)){T.eat(/\+\-/);T.eatWhile(/\d/)}return"number"}if(R=="/"){if(T.eat("*")){S.tokenize.push(E);return E(T,S)}if(T.eat("/")){T.skipToEnd();return"comment"}if(F(S.lastToken,false)){return L(R,T,S)}}if(R=="-"&&T.eat(">")){B="->";return null}if(/[+\-*&%=<>!?|\/~]/.test(R)){T.eatWhile(/[+\-*&%=<>|~]/);return"operator"}T.eatWhile(/[\w\$_]/);if(R=="@"){T.eatWhile(/[\w\$_\.]/);return"meta"}if(S.lastToken=="."){return"property"}if(T.eat(":")){B="proplabel";return"property"}var Q=T.current();if(O.propertyIsEnumerable(Q)){return"atom"}if(G.propertyIsEnumerable(Q)){if(N.propertyIsEnumerable(Q)){B="newstatement"}else{if(M.propertyIsEnumerable(Q)){B="standalone"}}return"keyword"}return"variable"}H.isBase=true;function L(Q,U,R){var S=false;if(Q!="/"&&U.eat(Q)){if(U.eat(Q)){S=true}else{return"string"}}function T(Z,X){var W=false,Y,V=!S;while((Y=Z.next())!=null){if(Y==Q&&!W){if(!S){break}if(Z.match(Q+Q)){V=true;break}}if(Q=='"'&&Y=="$"&&!W&&Z.eat("{")){X.tokenize.push(J());return"string"}W=!W&&Y=="\\"}if(V){X.tokenize.pop()}return"string"}R.tokenize.push(T);return T(U,R)}function J(){var Q=1;function R(T,S){if(T.peek()=="}"){Q--;if(Q==0){S.tokenize.pop();return S.tokenize[S.tokenize.length-1](T,S)}}else{if(T.peek()=="{"){Q++}}return H(T,S)}R.isBase=true;return R}function E(T,R){var S=false,Q;while(Q=T.next()){if(Q=="/"&&S){R.tokenize.pop();break}S=(Q=="*")}return"comment"}function F(R,Q){return !R||R=="operator"||R=="->"||/[\.\[\{\(,;:]/.test(R)||R=="newstatement"||R=="keyword"||R=="proplabel"||(R=="standalone"&&!Q)}function C(U,T,Q,S,R){this.indented=U;this.column=T;this.type=Q;this.align=S;this.prev=R}function K(S,R,Q){return S.context=new C(S.indented,R,Q,null,S.context)}function I(R){var Q=R.context.type;if(Q==")"||Q=="]"||Q=="}"){R.indented=R.context.indented}return R.context=R.context.prev}return{startState:function(Q){return{tokenize:[H],context:new C((Q||0)-D.indentUnit,0,"top",false),indented:0,startOfLine:true,lastToken:null}},token:function(T,R){var S=R.context;if(T.sol()){if(S.align==null){S.align=false}R.indented=T.indentation();R.startOfLine=true;if(S.type=="statement"&&!F(R.lastToken,true)){I(R);S=R.context}}if(T.eatSpace()){return null}B=null;var Q=R.tokenize[R.tokenize.length-1](T,R);if(Q=="comment"){return Q}if(S.align==null){S.align=true}if((B==";"||B==":")&&S.type=="statement"){I(R)}else{if(B=="->"&&S.type=="statement"&&S.prev.type=="}"){I(R);R.context.align=false}else{if(B=="{"){K(R,T.column(),"}")}else{if(B=="["){K(R,T.column(),"]")}else{if(B=="("){K(R,T.column(),")")}else{if(B=="}"){while(S.type=="statement"){S=I(R)}if(S.type=="}"){S=I(R)}while(S.type=="statement"){S=I(R)}}else{if(B==S.type){I(R)}else{if(S.type=="}"||S.type=="top"||(S.type=="statement"&&B=="newstatement")){K(R,T.column(),"statement")}}}}}}}}R.startOfLine=false;R.lastToken=B||Q;return Q},indent:function(U,R){if(!U.tokenize[U.tokenize.length-1].isBase){return 0}var T=R&&R.charAt(0),Q=U.context;if(Q.type=="statement"&&!F(U.lastToken,true)){Q=Q.prev}var S=T==Q.type;if(Q.type=="statement"){return Q.indented+(T=="{"?0:D.indentUnit)}else{if(Q.align){return Q.column+(S?0:1)}else{return Q.indented+(S?0:D.indentUnit)}}},electricChars:"{}",closeBrackets:{triples:"'\""},fold:"brace"}});A.defineMIME("text/x-groovy","groovy")});