import"./modulepreload-polyfill.c7c6310f.js";const styleTag="",styleClass="",styleId="";(function(){var pageCodeEditor,pageCodeContainerMouseDownLocationX=0,pageCodeContainerMouseDownLocationY=0,pageCodeContainerTop=0,pageCodeContainerRight=0,pageCodeContainerMouseDownHold=!1,pageCodeContainerDrag=!1,pageCodeIconHold=!1,pageCodeShown=!1;function evalCode(code){try{eval(code)}catch(e){console.warn(e.message)}}function pageCodeRun(){if(pageCodeEditor){var e=pageCodeEditor.getValue();evalCode(e)}}function pageCodeIconClick(){if(pageCodeContainerDrag){pageCodeContainerDrag=!1;return}pageCodeShown?(pageCodeShown=!1,$("#pageCodeContainer").stop(!0),$("#pageCodeContainer").animate({height:"42"},200),$("#pageCodeContainer").animate({width:"42",boxShadow:"0 0 0px rgba(0,0,0,0.00)"},300)):(pageCodeShown=!0,$("#pageCodeContainer").stop(!0),$("#pageCodeContainer").animate({width:"500",boxShadow:"0 0 10px rgba(0,0,0,0.30)"},300),$("#pageCodeContainer").animate({height:"384"},200))}function pageCodeContainerMouseDown(e){$("body").attr("onselectstart","return false"),pageCodeContainerMouseDownLocationX=e.screenX,pageCodeContainerMouseDownLocationY=e.screenY,pageCodeContainerTop=parseInt($("#pageCodeContainer").css("top").replace("px","")),pageCodeContainerRight=parseInt($("#pageCodeContainer").css("right").replace("px","")),pageCodeContainerMouseDownHold=!0}function pageCodeContainerMouseUp(e){$("body").attr("onselectstart",""),pageCodeIconHold=!1,pageCodeContainerMouseDownHold=!1}function windowMouseMove(e){if(pageCodeContainerMouseDownHold){pageCodeIconHold&&(e.movementX!=0||e.movementY!=0)&&(pageCodeContainerDrag=!0);var o=pageCodeContainerMouseDownLocationX-e.screenX,t=e.screenY-pageCodeContainerMouseDownLocationY,n=o+pageCodeContainerRight,a=t+pageCodeContainerTop;n+$("#pageCodeContainer").width()+50>document.body.clientWidth&&(n=document.body.clientWidth-$("#pageCodeContainer").width()-50),n<-50&&(n=-50),a<50&&(a=50),a>document.body.clientHeight-42&&(a=document.body.clientHeight-42),$("#pageCodeContainer").css("top",a.toString()+"px"),$("#pageCodeContainer").css("right",n.toString()+"px")}}function windowLoad(e){pageCodeEditor=CodeMirror.fromTextArea(document.getElementById("pageCodeInput"),{lineNumbers:!0,extraKeys:{Space:"autocomplete"},mode:{name:"javascript",globalVars:!0}});var o=$("#pageCodeInputBorder div:first");o.css("height","278px")}window.addEventListener("load",windowLoad),window.addEventListener("mousemove",windowMouseMove),$("#pageCodeContainer").mousedown(pageCodeContainerMouseDown),$("#pageCodeContainer").mouseup(pageCodeContainerMouseUp),$("#pageCodeInputBorder").onmousedown=function(e){e.stopPropagation()},$("#pageCodeIcon").mousedown(function(e){pageCodeIconHold=!0}),$("#pageCodeIcon").mouseup(function(e){pageCodeIconHold=!1}),$("#pageCodeIcon").click(pageCodeIconClick),$("#pageCodeButtonRun").click(pageCodeRun)})();var viewIndex=0;Math.round(new Date().getTime()/1e3);var loading=!1,articleList=new ObserveList,itemTemplate=$("#articleItemTemplate").get(0);HTMLTemplate.Init();function LoadArticle(e){loading||(loading=!0,SardineFish.API.Blog.getList({from:viewIndex,count:e}).then(o=>{for(var t=0;t<o.length;t++)o[t].time=new Date(o[t].time).toLocaleString(),articleList.add(o[t]);viewIndex=articleList.length,loading=!1}))}itemTemplate.dataSource=articleList;LoadArticle(10);function initTopMenu(){var e=!1;$("#button-menu").click(function(){e?($("#button-menu").removeClass("extend"),$("#topMenu").removeClass("extend")):($("#button-menu").addClass("extend"),$("#topMenu").addClass("extend")),e=!e})}function checkLogin(){$("#login").attr("href","/account/login?redirect="+encodeURIComponent(window.location)),SardineFish.API.User.checkAuth({}).then(e=>{console.log(e),$("#account-area").addClass("login"),$("#user-avatar").get(0).src=`/api/user/${e}/avatar`}).catch(()=>{})}var topBarFied=!1;function menuButtonMouseOver(e){if(e.target){var o=$(e.target);parseInt($("#menuFocus").css("left6"));var t=o.offset().left-$("#topMenuButtons").offset().left;$("#menuFocus").stop(),$("#menuFocus").animate({left:t},200)}}function menuButtonMouseOut(e){$("#menuFocus").stop();var o=parseInt($("#menuFocus").css("left")),t=$("#buttonHere").offset().left-$("#topMenuButtons").offset().left;$("#menuFocus").animate({left:t},Math.abs(o-t))}menuButtonMouseOut();function windowScroll(e){var o=Math.max(document.body.scrollTop,document.documentElement.scrollTop),t=$("#topArea").offset().top;o>t&&!topBarFied?($("#topBar").removeClass("extend"),$("#topBar").addClass("fold")):o<=t&&($("#topBar").removeClass("fold"),$("#topBar").addClass("extend")),window.innerHeight+window.scrollY>=document.body.scrollHeight-100&&LoadArticle(10),$("#pageBottom").height(),$("#center").height()}function loaded(){checkLogin(),initTopMenu()}function addEventHandle(){$(".menuButton").mouseover(menuButtonMouseOver),$(".menuButton").mouseout(menuButtonMouseOut),window.addEventListener("load",loaded),window.addEventListener("scroll",windowScroll),$("#searchText").focus(function(o){$("#searchText").css("border-bottom","solid 2px #2196f3"),$("#buttonSearch").css("color","solid 2px #2196f3")}),$("#searchText").blur(function(o){$("#searchText").css("border-bottom","solid 2px rgba(0,0,0,0.2)"),$("#buttonSearch").css("color","solid 2px solid 2px rgba(0,0,0,0.6)")});let e=!1;$("#search .icon-search").click(()=>{const o=$("#search-input").get(0).value;e?o?$("#search").submit():(e=!1,$("#search").removeClass("expand")):(e=!0,$("#search").addClass("expand"))})}addEventHandle();var itemTemplate=$("#articleItemTemplate").get(0);SardineFish.Web.UI.setButton($(".button"),ButtonStyle.ColorTransit);SardineFish.Web.UI.setButton($(".iconButton"),ButtonStyle.TextIcon);$(".textbox").attr("contenteditable","true");
